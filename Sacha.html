<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2024-09-20 Fri 13:13 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>gif-screencast</title>
<meta name="author" content="Sacha Chua" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://sachachua.com/assets/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://sachachua.com/assets/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://sachachua.com/assets/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://sachachua.com/assets/js/readtheorg.js"></script>
<script type="text/javascript" class="skip-collapsible" src="https://sachachua.com/assets/js/misc.js"></script>
</head>
<body>
<div id="preamble" class="status">
<a name="top" id="top"></a>
</div>
<div id="content" class="content">
<header>
<h1 class="title">gif-screencast</h1>
</header><p>
Animated GIFs make it easy to demonstrate things,
and <a target="_blank" href="http://melpa.org/#/gif-screencast">gif-screencast</a> makes it easy to record a
screencast with each command getting its own GIF
frame. In my config, I have <code>s-s</code> (super-s, or the
Windows key + s) bound to
<code>gif-screencast-start-or-stop</code>. I like adding
animated GIFs to my blog posts and videos.
</p>

<p>
Not all interfaces can display animated GIFs. For
example, some people read my blog in <a target="_blank" href="http://melpa.org/#/elfeed">elfeed</a> or in
a console Emacs and can see only the first frame
of a GIF. It makes sense to select the a frame to
use as the fallback for the animated GIF, much
like videos can have thumbnails.
</p>

<p>
When I stop gif-screencast, I want to pick a frame
and use it as the first frame. Let's see if this works&#x2026;
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">my-gif-screencast-start-or-stop-and-choose-thumbnail</span> ()
  <span class="org-doc">"Start a screencast or stop recording. Choose the GIF thumbnail."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">if</span> gif-screencast-mode
      (<span class="org-keyword">progn</span>
        (gif-screencast-toggle-pause)
        (dired gif-screencast-screenshot-directory)
        (revert-buffer)
        (image-dired gif-screencast-screenshot-directory))
    (gif-screencast)))

(<span class="org-keyword">defun</span> <span class="org-function-name">my-gif-screencast-use-frame-and-stop</span> ()
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((file (image-dired-file-name-at-point)))
    (add-to-list
     <span class="org-highlight-quoted-quote">'</span><span class="org-highlight-quoted-symbol">gif-screencast--frames</span>
     (make-gif-screencast-frame
      <span class="org-builtin">:timestamp</span> (time-subtract (gif-screencast-frame-timestamp (car (last gif-screencast--frames)))
                                gif-screencast--offset)
      <span class="org-builtin">:filename</span> file)
     gif-screencast--frames
     t)
    (gif-screencast-stop)))
<span class="org-comment-delimiter">;;  </span><span class="org-comment">This is a test</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> gif-screencast
  <span class="org-builtin">:bind</span>
  (<span class="org-string">"s-s"</span> . my-gif-screencast-start-or-stop-and-choose-thumbnail)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> gif-screencast-output-directory my-recordings-dir))

(<span class="org-keyword">use-package</span> giffy
  <span class="org-builtin">:quelpa</span> (giffy <span class="org-builtin">:fetcher</span> github <span class="org-builtin">:repo</span> <span class="org-string">"larsmagne/giffy"</span>))
</pre>
</div>

<div class="note">This is part of my <a href="https://sachachua.com/dotemacs#gif-screencast">Emacs configuration.</a></div></div>
<div id="postamble" class="status">

       <style type="text/css">
       .back-to-top {
           position: fixed;
           bottom: 2em;
           right: 0px;
           text-decoration: none;
           color: #000000;
           background-color: rgba(235, 235, 235, 0.80);
           font-size: 12px;
           padding: 1em;
           display: none;
       }

       .back-to-top:hover {
           background-color: rgba(135, 135, 135, 0.50);
       }
       </style>

       <div class="back-to-top">
       <a href="#top">Back to top</a> | <a href="mailto:sacha@sachachua.com">E-mail me</a>
       </div>

       <script type="text/javascript">
           var offset = 220;
           var duration = 500;
           jQuery(window).scroll(function() {
               if (jQuery(this).scrollTop() > offset) {
                   jQuery('.back-to-top').fadeIn(duration);
               } else {
                   jQuery('.back-to-top').fadeOut(duration);
               }
           });
       </script>
</div>
</body>
</html>
